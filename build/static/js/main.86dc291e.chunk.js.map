{"version":3,"sources":["components/Numbers.jsx","components/Persons.jsx","components/Filter.jsx","components/Form.jsx","personinfo/personInfos.js","components/Notification.jsx","App.js","index.js"],"names":["Numbers","person","number","deletePerson","name","onClick","Persons","numbers","map","i","id","Filter","filterNames","onChange","Form","addName","handleNameChange","handleNumberChange","newNumber","newName","onSubmit","value","type","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","style","border","background","fontSize","padding","marginBottom","App","useState","persons","setPersons","setNewName","setNewNumber","filter","setFilter","setMessage","getPersons","personInfo","initialInfo","console","log","catch","error","alert","toLowerCase","includes","useEffect","e","target","event","preventDefault","numberExist","some","personExist","checkName","find","changeNumber","nameObject","returnedPerson","setTimeout","concat","length","window","confirm","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.86dc291e.chunk.js","sourcesContent":["const Numbers = ({person, number, deletePerson}) => {\r\n    \r\n    return (\r\n        <>\r\n            <li>{person.name} {number} <button onClick={deletePerson}>delete</button></li>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Numbers;","import Numbers from \"./Numbers\";\r\n\r\nconst Persons = ({numbers, deletePerson}) => {\r\n\r\n    return (\r\n        <>\r\n            <ul>\r\n                {numbers.map((person, i) => \r\n                <Numbers key={i} deletePerson={() => deletePerson(person.id)} person={person} number={person.number}/>\r\n                )}\r\n            </ul>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Persons;","const Filter = ({filterNames}) => {\r\n\r\n    return (\r\n        <>\r\n            Filter shown with <input onChange={filterNames}/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Filter;","const Form = (\r\n    {addName, handleNameChange, handleNumberChange, newNumber, newName}\r\n    ) => {\r\n\r\n    return (\r\n        <>\r\n            <form onSubmit={addName}>\r\n                <div>\r\n                name: <input onChange={handleNameChange} value={newName}/>\r\n                <br/>\r\n                number: <input onChange={handleNumberChange} value={newNumber}/>\r\n                </div>\r\n                <div>\r\n                <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Form;","import axios from \"axios\";\r\nconst baseUrl = \"api/persons\";\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl);\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject);\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newNumber) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newNumber)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteInfo = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`);\r\n    return request.then(response => response);\r\n}\r\n\r\nexport default { getAll, create, deleteInfo, update }","const Notification = ({message}) => {\r\n    // if(message === null) {\r\n    //     return null\r\n    // }\r\n    const messageStyle = {\r\n        border: \"solid\",\r\n        background: \"lightgrey\",\r\n        fontSize: 20,\r\n        padding: 5,\r\n        marginBottom: 10\r\n    }\r\n    return (\r\n        <>\r\n            {message !== \"\" ? \r\n                <div style={messageStyle}>\r\n                    <p>{message}</p>\r\n                </div>\r\n            : \"\"\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Notification;","import React, {useState, useEffect} from \"react\";\nimport Persons from \"./components/Persons\";\nimport Filter from \"./components/Filter\";\nimport Form from \"./components/Form\";\nimport personInfo from \"./personinfo/personInfos\";\nimport Notification from \"./components/Notification\";\n\nfunction App() {\n  const [ persons, setPersons ] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState(\"\")\n\n  const getPersons = () => {\n    personInfo\n    .getAll()\n    .then(initialInfo => {\n      console.log(initialInfo)\n      setPersons(initialInfo)\n    })\n    .catch(error => {\n      alert(\"ei lÃ¶ydy\")\n    })\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value);\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value);\n    setNewNumber(event.target.value);\n  }\n\n  const filterNames = e => {\n    console.log(e.target.value)\n    setFilter(e.target.value)\n  }\n\n  const numbers = persons.filter(person => {\n    return person.name.toLowerCase().includes(filter.toLowerCase())\n  })\n\n  // Adds new name to the persons array and checks if it already exist.\n  const addName = (event) => {\n    event.preventDefault();\n    const numberExist = persons.some(person => newNumber === person.number)\n    const personExist = persons.some(person => newName === person.name)\n    const checkName = persons.find(person => person.name === newName)\n    const changeNumber = { ...checkName, number: newNumber}\n    console.log(\"####\",changeNumber.id)\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n    };\n    if(!numberExist && newName !== \"\" && newNumber !== \"\") {\n      if(personExist) {\n        console.log(changeNumber)\n        personInfo\n          .update(changeNumber.id, changeNumber)\n          .then(returnedPerson => {\n            console.log(\"new number\", returnedPerson)\n            setPersons(persons.map(person => person.id === changeNumber.id ? returnedPerson : person))\n            setNewName(\"\")\n            setNewNumber(\"\")\n            setMessage(`Changed ${changeNumber.name}s number`)\n            setTimeout(() => {\n              setMessage(\"\")\n            }, 5000)\n          })\n          .catch(error => {\n            console.log(error)\n            setMessage(`Information of ${changeNumber.name} has already been removed from server`)\n            setTimeout(() => {\n              getPersons()\n              setMessage(\"\")\n            }, 5000)\n          })\n      } else if (!personExist) {\n        personInfo\n        .create(nameObject)\n        .then(initialInfo => {\n          console.log(initialInfo)\n          setPersons(persons.concat(initialInfo))\n          setNewName(\"\")\n          setNewNumber(\"\")\n          setMessage(`Added name: ${initialInfo.name} number: ${initialInfo.number}`)\n          setTimeout(() => {\n            setMessage(\"\")\n          }, 5000)\n      })\n      .catch(error => {\n        console.error(error.response.data)\n        if(newName.length < 3) {\n          setMessage(`Name must be atleast 3 characters long`)\n        } else if (newNumber.length < 8) {\n          setMessage(`Number must be atleast 8 characters long`)\n        }\n        setTimeout(() => {\n          setMessage(\"\")\n        }, 5000)\n      })\n      }\n      \n    } else {\n        setPersons(persons)\n        alert(`${newName} already exist`)\n    }\n  }\n\n  const deletePerson = (id) => {\n    if(window.confirm(\"Are you sure you want to delete this?\")) {\n      personInfo\n      .deleteInfo(id)\n      .then(data => {\n        console.log(\"deleted successfully\", data)\n        getPersons()\n      })\n    }\n    \n  }\n\n \n\n  useEffect(getPersons, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message}/>\n      <Filter filterNames={filterNames}/>\n      <h2>Add new</h2>\n      <Form \n        addName={addName}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons deletePerson={deletePerson} numbers={numbers}/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}